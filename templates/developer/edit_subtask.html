{% extends 'dev_base.html' %}
{% block title %}Edit Subtask{% endblock %}

{% block content %}
<div class="bg-gradient-to-br from-gray-50 to-blue-100 min-h-screen py-10">
<div class="max-w-2xl mx-auto px-6 py-8 bg-white/80 shadow-2xl rounded-2xl backdrop-filter backdrop-blur-lg border border-gray-200">
    <h1 class="text-4xl font-extrabold text-gray-900 mb-6 text-center">Edit Subtask</h1>
    
    <form method="POST" class="space-y-6">
        {{ form.hidden_tag() }}
        
        <!-- Subtask Name -->
        <div>
            <label for="name" class="block text-sm font-semibold text-gray-700 mb-2">
                <i class="fas fa-edit mr-2"></i>Subtask Name
            </label>
            {{ form.name(class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200", placeholder="Enter subtask name") }}
            {% if form.name.errors %}
                <p class="mt-2 text-sm text-red-600">{{ form.name.errors[0] }}</p>
            {% endif %}
        </div>

        <!-- Subtask Type -->
        <div>
            <label for="type" class="block text-sm font-semibold text-gray-700 mb-2">
                <i class="fas fa-tag mr-2"></i>Type
            </label>
            {{ form.type(class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200") }}
            {% if form.type.errors %}
                <p class="mt-2 text-sm text-red-600">{{ form.type.errors[0] }}</p>
            {% endif %}
        </div>

        <!-- Status -->
        <div>
            <label for="status" class="block text-sm font-semibold text-gray-700 mb-2">
                <i class="fas fa-tasks mr-2"></i>Status
            </label>
            {{ form.status(class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200") }}
            {% if form.status.errors %}
                <p class="mt-2 text-sm text-red-600">{{ form.status.errors[0] }}</p>
            {% endif %}
        </div>

        <!-- Due Date -->
        <div>
            <label for="due_date" class="block text-sm font-semibold text-gray-700 mb-2">
                <i class="fas fa-calendar-alt mr-2"></i>Due Date (Optional)
            </label>
            {{ form.due_date(class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200", type="date") }}
            {% if form.due_date.errors %}
                <p class="mt-2 text-sm text-red-600">{{ form.due_date.errors[0] }}</p>
            {% endif %}
        </div>

        <!-- Buttons -->
        <div class="flex gap-4">
            {{ form.submit(class="flex-1 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-semibold py-3 px-6 rounded-lg transition-transform transform hover:-translate-y-0.5 shadow-lg cursor-pointer") }}
            <a href="{{ url_for('developer.view_task_details', task_id=subtask.parent_task_id) }}" 
               class="flex-1 bg-gray-300 hover:bg-gray-400 text-gray-800 font-semibold py-3 px-6 rounded-lg text-center transition-transform transform hover:-translate-y-0.5 shadow-lg">
                Cancel
            </a>
        </div>
    </form>
</div>
</div>
{% endblock %}
